(this["webpackJsonpshell-game"]=this["webpackJsonpshell-game"]||[]).push([[0],{17:function(t,e,a){t.exports=a.p+"static/media/players.9e556d63.png"},18:function(t,e,a){t.exports=a.p+"static/media/star.18d108fc.png"},19:function(t,e,a){t.exports=a.p+"static/media/balloons.d2fdbd06.gif"},20:function(t,e,a){t.exports=a(32)},25:function(t,e,a){},26:function(t,e,a){},32:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(15),i=a.n(r),o=(a(25),a(9)),c=a(3),l=a(4),d=a(2),u=a(5),h=a(6),p=(a(26),a(16)),m=a(7),f=a(8),P=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.getBase64=s.getBase64.bind(Object(d.a)(s)),s.fileInput=n.a.createRef(),s.formClassName=s.formClassName.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"getBase64",value:function(t){var e,a=this,s=Object(p.a)(t.target.files);try{var n=function(){var t=e.value,s=new FileReader;s.readAsDataURL(t),s.onload=function(){a.props.manageImages(s.result)},s.onerror=function(t){this.props.errorHandler(t)}};for(s.s();!(e=s.n()).done;)n()}catch(r){s.e(r)}finally{s.f()}}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.getBase64(t)}},{key:"formClassName",value:function(){return!0===this.props.extra?"file-input extra":"file-input"}},{key:"render",value:function(){return n.a.createElement("form",{onChange:this.handleSubmit,className:this.formClassName()},n.a.createElement("label",{htmlFor:"select-images"},n.a.createElement(m.a,{icon:f.d})),n.a.createElement("input",{id:"select-images",type:"file",ref:this.fileInput,multiple:!0,accept:"image/*"}),n.a.createElement("br",null))}}]),a}(n.a.Component),v=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={open:s.props.cardsStatus},s.generateClass=s.generateClass.bind(Object(d.a)(s)),s.updateState=s.updateState.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"generateClass",value:function(t){return!0===this.state.open?"card c".concat(t):"card show c".concat(t)}},{key:"updateState",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){return n.a.createElement("div",{className:"card-position",style:{transform:"translate(".concat(this.props.cardPosition,")")},key:this.props.key},n.a.createElement("div",{className:this.generateClass(this.props.index)},n.a.createElement("div",{className:"innerCard",style:{width:"".concat(this.props.cardSize.w,"vw"),height:"".concat(this.props.cardSize.h,"vh")}},n.a.createElement("div",{className:"back",onClick:this.updateState}),n.a.createElement("img",{alt:"card front",className:"front",onClick:this.updateState,src:this.props.src}))))}}]),a}(s.Component),y=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return n.a.createElement("span",{className:"switch-button",onClick:function(){t.props.switchCardsPositions(t.props.actualIndex1,t.props.actualIndex2)}},this.props.index1+1," ",n.a.createElement(m.a,{icon:f.a})," ",this.props.index2+1," ")}}]),a}(s.Component),g=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={},s}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return n.a.createElement("div",null," ",this.props.images.map((function(e,a){return n.a.createElement("div",{key:"card".concat(a+1)},n.a.createElement(v,{cardSize:t.props.cardSize,cardPosition:t.props.cardsPosition[a],index:a,cardsStatus:t.props.cardsStatus[a],src:e}))})),n.a.createElement("div",{className:"shuffle-buttons"},this.props.images.map((function(e,a){return 0!==a?n.a.createElement(y,{actualIndex1:t.props.trackedPositions[a-1],key:"shuffle".concat(a-1).concat(a),index1:a-1,index2:a,actualIndex2:t.props.trackedPositions[a],switchCardsPositions:t.props.switchCardsPositions}):n.a.createElement(y,{key:"shuffleedges",actualIndex1:t.props.trackedPositions[t.props.images.length-1],index1:0,index2:t.props.images.length-1,actualIndex2:t.props.trackedPositions[0],switchCardsPositions:t.props.switchCardsPositions})}))))}}]),a}(s.Component),b=a(17),k=a.n(b),S=a(18),C=a.n(S),j=a(19),O=a.n(j);var E=function(t){return n.a.createElement("div",{id:"scoreboard"},t.hasWinner&&n.a.createElement("div",{id:"winner"},t.winner.map((function(t){return n.a.createElement("h1",{id:"winner-msg"},t)})),n.a.createElement("img",{alt:"balloons",className:"balloons",src:O.a})),n.a.createElement("img",{alt:"players",src:k.a,id:"score-header",onClick:function(){var e=prompt("Please enter your name");e&&t.updatePlayers(e)}}),n.a.createElement("table",null,t.players.map((function(e,a){return n.a.createElement("tr",{className:"player ".concat(a)},n.a.createElement("td",{onClick:function(){return t.addStarToPlayer(a)},onDoubleClick:function(){return t.removeStarFromPlayer(a)}},e),function(e){for(var a=[],s=0;s<t.playerPoints[e];s++)a.push(n.a.createElement("td",null,n.a.createElement("img",{alt:"star",className:"star",src:C.a})));return a}(a))}))))},w=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).state={appPart:1,error:!1,players:[],playerPoints:[],imagesBase64:[],cardsStatus:[!1,!1,!1],cardsPosition:s.setCardsPosition(!0),trackedPositions:s.setTrackedPositions(!0),cardSize:s.setCardSize(!0),hasWinner:!1,winner:!1},s.changeCardStatus=s.changeCardStatus.bind(Object(d.a)(s)),s.switchCardsPositions=s.switchCardsPositions.bind(Object(d.a)(s)),s.appendCardToLists=s.appendCardToLists.bind(Object(d.a)(s)),s.updateGraphicPositions=s.updateGraphicPositions.bind(Object(d.a)(s)),s.manageImages=s.manageImages.bind(Object(d.a)(s)),s.updatePlayers=s.updatePlayers.bind(Object(d.a)(s)),s.addPointToPlayer=s.addPointToPlayer.bind(Object(d.a)(s)),s.removePointFromPlayer=s.removePointFromPlayer.bind(Object(d.a)(s)),s.changeAppPart=s.changeAppPart.bind(Object(d.a)(s)),s.setCardsPosition=s.setCardsPosition.bind(Object(d.a)(s)),s.setWinner=s.setWinner.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"setWinner",value:function(){var t,e=!this.state.hasWinner;if(!1===e&&(t=!1),!0===e){t=function(t,e){var a;console.log(e),a=function(t){if(0===t.length)return-1;for(var e=t[0],a=1;a<t.length;a++)t[a]>e&&(e=t[a]);return e}(t);for(var s=[],n=0;n<t.length;n++)t[n]===a&&s.push(e[n]);return s}(this.state.playerPoints,this.state.players)}this.setState({hasWinner:e,winner:t})}},{key:"setCardSize",value:function(t){var e,a,s=1;if(!0===t)e=23.4,a=44;else{var n=this.state.imagesBase64.length;3===n?(e=23.4,a=44):(e=100/(4.2*(s=Math.ceil(n/4))),a=71.5/(1.495*s))}return{w:e,h:a}}},{key:"setTrackedPositions",value:function(t){var e=3;if(!1===t){var a=this.state.imagesBase64;if(3===a.length)return;e=a.length}var s,n={};for(s=0;s<e;s++)n[s]=s;if(!0===t)return n;this.setState({trackedPositions:n})}},{key:"setCardsPosition",value:function(t){var e=3;if(!1===t){var a=this.state.imagesBase64;if(3===a.length)return;e=a.length}for(var s=[],n=0;n<e;n++)s.push(this.calculateCardPosition(n,t));if(!0===t)return s;this.setState({cardsPosition:s})}},{key:"calculateCardPosition",value:function(t,e){var a,s;if(!0===e)a=4+32*t,s=46.4;else{var n=this.state.imagesBase64.length,r=Math.ceil((t+1)/4);a=2+96*(t-4*(r-1))/4,n>=4&&(4===n?s=46.4:(console.log(t-4*(r-1)),s=1!==r?46.4+26.7*(r-1):46.4),a+=2*Math.ceil(n/4))}return"".concat(a,"vw, ").concat(s,"vh")}},{key:"switchCardsPositions",value:function(t,e){var a=this.state.cardsPosition[t],s=this.state.cardsPosition[e],n=Object(o.a)(this.state.cardsPosition);n[t]=s,n[e]=a;var r=this.state.trackedPositions,i=Object.keys(r).find((function(e){return r[e]===t})),c=Object.keys(r).find((function(t){return r[t]===e}));r[c]=t,r[i]=e,this.setState({cardsPosition:n,trackedPositions:r})}},{key:"changeCardStatus",value:function(t){var e=this.state.cardsStatus;e[t]=!this.state.cardsStatus[t],this.setState({cardsStatus:e})}},{key:"appendCardToLists",value:function(){var t=this.state.trackedPositions,e=Object.keys(t).length-1;t[e]=e,this.setState({cardsStatus:[].concat(Object(o.a)(this.state.cardsStatus),[!1]),cardsPosition:this.updateGraphicPositions(),trackedPositions:t})}},{key:"updateGraphicPositions",value:function(){return this.state.cardsPosition}},{key:"updatePlayers",value:function(t){this.setState({players:[].concat(Object(o.a)(this.state.players),[t]),playerPoints:[].concat(Object(o.a)(this.state.playerPoints),[0])})}},{key:"changeAppPart",value:function(t){1===t&&this.setState({appPart:1},this.updateCards),2===t&&this.setState({appPart:2},this.updateCards)}},{key:"updateCards",value:function(){var t=this;1===this.state.appPart&&this.setState({imagesBase64:[],cardsStatus:[!1,!1,!1],cardsPosition:this.setCardsPosition(!0),trackedPositions:this.setTrackedPositions(!0),cardSize:this.setCardSize(!0)}),2===this.state.appPart&&(this.setCardsPosition(!1),this.setTrackedPositions(!1),this.setState({cardsStatus:this.state.imagesBase64.map((function(e,a){return!!t.state.cardsStatus[a]&&t.state.cardsStatus[a]})),cardSize:this.setCardSize(!1)}))}},{key:"addPointToPlayer",value:function(t){var e=this.state.playerPoints,a=Object(o.a)(e);a[t]=a[t]+1,this.setState({playerPoints:a})}},{key:"removePointFromPlayer",value:function(t){var e=this.state.playerPoints,a=Object(o.a)(e);a[t]=a[t]-3,this.setState({playerPoints:a})}},{key:"manageImages",value:function(t){this.setState({imagesBase64:[].concat(Object(o.a)(this.state.imagesBase64),[t])}),this.state.imagesBase64.length>=3&&this.changeAppPart(2)}},{key:"errorHandler",value:function(t){this.setState({error:t})}},{key:"render",value:function(){var t=this,e=[];return 1===this.state.appPart&&e.push(n.a.createElement("div",{key:"fileinput"},n.a.createElement(P,{errorHandler:this.errorHandler,manageImages:this.manageImages}),n.a.createElement(m.a,{className:"trophy-icon",icon:f.c,onClick:function(){return t.setWinner()}}))),this.state.appPart>1&&e.push(n.a.createElement("div",{key:"game"},n.a.createElement(g,{cardSize:this.state.cardSize,cardsStatus:this.state.cardsStatus,cardsPosition:this.state.cardsPosition,trackedPositions:this.state.trackedPositions,switchCardsPositions:this.switchCardsPositions,images:this.state.imagesBase64}),n.a.createElement(P,{extra:!0,errorHandler:this.errorHandler,manageImages:this.manageImages}),n.a.createElement(m.a,{className:"trophy-icon",icon:f.c,onClick:function(){return t.setWinner()}}),n.a.createElement(m.a,{icon:f.b,className:"back-button",onClick:function(){return t.changeAppPart(1)}}))),e.push(n.a.createElement(E,{key:"scoreboard",winner:this.state.winner,hasWinner:this.state.hasWinner,updatePlayers:this.updatePlayers,playerPoints:this.state.playerPoints,addStarToPlayer:this.addPointToPlayer,removeStarFromPlayer:this.removePointFromPlayer,players:this.state.players})),e}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.c345837d.chunk.js.map